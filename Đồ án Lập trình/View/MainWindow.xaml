<Window x:Class="TinhtoancotBTCT.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Thiết kế Cột BTCT - Chịu kéo nén lệch tâm"
        Height="650" Width="1000" WindowStartupLocation="CenterScreen">

    <!-- Hình nền toàn cửa sổ -->
    <Window.Background>
        <ImageBrush ImageSource="/Resources/Image/anhcot.jpg" 
                    Stretch="UniformToFill" />
    </Window.Background>

    <Grid Margin="8,8,0,59">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <DockPanel Grid.Row="0" LastChildFill="True" Margin="4"
           TextOptions.TextFormattingMode="Display"
           TextOptions.TextRenderingMode="ClearType"
           SnapsToDevicePixels="True">

            <!-- Thông số cơ bản -->
            <GroupBox Header=" &#xD;&#xA;&#xD;&#xA;Thông số cơ bản" DockPanel.Dock="Left" 
              Margin="6" Padding="12" Width="480" Height="306"
              TextOptions.TextFormattingMode="Display"
              TextOptions.TextRenderingMode="ClearType"
              SnapsToDevicePixels="True">
                <GroupBox.Background>
                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                        <GradientStop Color="#FFFFFF" Offset="0"/>
                        <GradientStop Color="#F5F5F5" Offset="1"/>
                    </LinearGradientBrush>
                </GroupBox.Background>
                <GroupBox.BorderBrush>
                    <SolidColorBrush Color="White"/>
                </GroupBox.BorderBrush>
                <GroupBox.Effect>
                    <DropShadowEffect BlurRadius="8" ShadowDepth="2"/>
                </GroupBox.Effect>

                <Grid Height="233">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="180"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>

                    <TextBlock Text="Chiều rộng B (m):" Grid.Row="0" Grid.Column="0" 
                       Margin="4" VerticalAlignment="Center"/>
                    <TextBox x:Name="TxtB" Grid.Row="0" Grid.Column="1" Margin="4" Text="0.40"/>

                    <TextBlock Text="Chiều cao H (m):" Grid.Row="1" Grid.Column="0" Margin="4" VerticalAlignment="Center"/>
                    <TextBox x:Name="TxtH" Grid.Row="1" Grid.Column="1" Margin="4" Text="0.60"/>

                    <TextBlock Text="Cấp bền Bê tông:" Grid.Row="2" Grid.Column="0" Margin="4" VerticalAlignment="Center"/>
                    <ComboBox x:Name="CmbConcrete" Grid.Row="2" Grid.Column="1" Margin="4" SelectedIndex="0">
                        <ComboBoxItem Content="B15"/>
                        <ComboBoxItem Content="B20"/>
                        <ComboBoxItem Content="B25"/>
                    </ComboBox>

                    <TextBlock Text="Thép dọc:" Grid.Row="3" Grid.Column="0" Margin="4" VerticalAlignment="Center"/>
                    <ComboBox x:Name="CmbSteel" Grid.Row="3" Grid.Column="1" Margin="4" SelectedIndex="0">
                        <ComboBoxItem Content="AI"/>
                        <ComboBoxItem Content="AII"/>
                        <ComboBoxItem Content="AIII"/>
                    </ComboBox>

                    <TextBlock Text="Số thanh thép dọc:" Grid.Row="4" Grid.Column="0" Margin="4" VerticalAlignment="Center"/>
                    <TextBox x:Name="TxtNumBars" Grid.Row="4" Grid.Column="1" Margin="4" Text="4"/>

                    <TextBlock Text="Đường kính thép (mm):" Grid.Row="5" Grid.Column="0" Margin="4" VerticalAlignment="Center"/>
                    <TextBox x:Name="TxtBarDia" Grid.Row="5" Grid.Column="1" Margin="4" Text="16"/>
                </Grid>
            </GroupBox>

            <!-- Hình minh họa -->
            <Border DockPanel.Dock="Right" Background="White" BorderBrush="Gray" 
            CornerRadius="8" BorderThickness="1" Margin="6" Padding="10" Width="320"
            SnapsToDevicePixels="True"
            TextOptions.TextFormattingMode="Display"
            TextOptions.TextRenderingMode="ClearType">
                <Border.Effect>
                    <DropShadowEffect BlurRadius="8" ShadowDepth="3" Opacity="0.3"/>
                </Border.Effect>
                <StackPanel>
                    <TextBlock Text="Minh họa tiết diện" 
                       FontWeight="Bold" FontSize="14" 
                       Margin="0,0,0,8" HorizontalAlignment="Center"/>
                    <Canvas Width="250" Height="250" Background="#FFF9F9F9" 
                    x:Name="CanvasSection"/>
                </StackPanel>
            </Border>
        </DockPanel>


        <!-- Bảng kết quả -->
        <DataGrid x:Name="ResultGrid" Grid.Row="1" Margin="6,6,4,6" AutoGenerateColumns="False" 
                  HeadersVisibility="Column" CanUserAddRows="False"
                  BorderBrush="Gray" BorderThickness="1" 
                  AlternatingRowBackground="#FFF3F6FA" 
                  RowBackground="White" 
                  GridLinesVisibility="All">
            <DataGrid.Columns>
                <DataGridTextColumn Header="TT" Binding="{Binding TT}" Width="40"/>
                <DataGridTextColumn Header="B (m)" Binding="{Binding B}" Width="60"/>
                <DataGridTextColumn Header="H (m)" Binding="{Binding H}" Width="60"/>
                <DataGridTextColumn Header="Cấp BT" Binding="{Binding Concrete}" Width="80"/>
                <DataGridTextColumn Header="Thép" Binding="{Binding Steel}" Width="80"/>
                <DataGridTextColumn Header="Số thanh" Binding="{Binding NumBars}" Width="80"/>
                <DataGridTextColumn Header="Φ (mm)" Binding="{Binding BarDia}" Width="80"/>
                <DataGridTextColumn x:Name="ass" Header="As (cm²)" Binding="{Binding As}" Width="100"/>
            </DataGrid.Columns>
        </DataGrid>

        <!-- Nút chức năng -->
        <StackPanel Grid.Row="2" Orientation="Horizontal" 
                    HorizontalAlignment="Center" Margin="10">
            <Button Content="Thêm" Click="BtnAdd_Click" Width="100" Margin="6" Padding="6,4"
                    Background="#FF4CAF50" Foreground="White" BorderThickness="0" Cursor="Hand"/>
            <Button Content="Xóa" Click="BtnDelete_Click" Width="100" Margin="6" Padding="6,4"
                    Background="#FFE53935" Foreground="White" BorderThickness="0" Cursor="Hand"/>
            <Button Content="Tính toán" Click="BtnCompute_Click" Width="120" Margin="6" Padding="6,4"
                    Background="#FF2196F3" Foreground="White" BorderThickness="0" Cursor="Hand"/>
            <Button Content="Kết thúc" Click="BtnExit_Click" Width="120" Margin="6" Padding="6,4"
                    Background="#FF9C27B0" Foreground="White" BorderThickness="0" Cursor="Hand"/>
        </StackPanel>
    </Grid>
</Window>
